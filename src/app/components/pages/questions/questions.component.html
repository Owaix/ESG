<div class="containers">
  <div class="question-list" style="text-align: -webkit-center;margin-left: 2%;margin-top: 2%;">
    <form (ngSubmit)="saveResponses()">
      <h2 style="font-size: 28px;text-decoration: underline;">{{title}}</h2>
      <div *ngFor="let question of questionsList;; let  i = index; let last = last" style="text-align: left;"
        class="question-item">
        <!-- <input type="hidden" id="report_id" [(ngModel)]="answers[question.id].report_id" name="report_id" /> -->
        <label [for]="'question'">Q-{{i +1}} : {{ question.question }}</label>
        <div *ngIf="question.type == 'co'" style="margin-top: 10px;margin-left: 10px;">
          <label *ngFor="let option of question.options;" class="custom-radio">
            <input (change)="changeSelection( option.next_questions , question.id)" type="radio"
              name="user_answer_{{option.id}}" [(ngModel)]="question.user_answer" [value]="option.id">
            <span class="radio"></span>
            {{option.answer}}
          </label>
        </div>
        <div *ngIf="question.type == 'cm'" style="margin-top: 10px;margin-left: 10px;">
          <label *ngFor="let option of question.options;" class="custom-checkbox">
            <input [checked]="isChecked(option.id)" (change)="updateCheckboxAnswers(question.id, option.id)"
              type="checkbox" name="checkbox" [id]="option.id">
            <span class="checkbox"></span>
            {{option.answer}}
          </label>
        </div>
        <input *ngIf="question.type == 'ui'" type="text" id="user_answer" [(ngModel)]="question.user_answer"
          name="user_answer_{{question.id}}" required />
        <hr *ngIf="!last">
      </div>
      <div style="text-align: right; ">
        <button style="margin-right: 10px;" type="submit">Save</button>
      </div>
    </form>
  </div>
</div>

<app-modal *ngIf="isModalOpen" (close)="closeModal()">
  <h2>{{error}}</h2>
  <p style="font-size: 19px;">{{errormsg}}</p>
</app-modal>